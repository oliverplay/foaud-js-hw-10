{"mappings":"AAAA,MAIMA,EAAcC,SAASC,cAAc,iBACrCC,EAASF,SAASC,cAAc,UAChCE,EAASH,SAASC,cAAc,WAChCG,EAAUJ,SAASC,cAAc,aAkBvC,SAASI,IACP,OAAOC,MA1BQ,uCA0BQC,MAAKC,IAC1B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,SAE3B,OAAOH,EAASI,MAAM,G,CAI1B,SAASC,EAAgBC,EAAQC,GAC/B,MAAMC,EAAeF,EAAOG,KAAIC,GACvB,8BACgBA,EAAMC,mBACrBD,EAAMC,KAAOJ,EAAgB,WAAa,kBAC1CG,EAAME,wCAKhBrB,EAAYsB,UAAYL,EAAaM,KAAK,G,CAsD5C,SAASC,IACP,OAAOrB,EAAOsB,MAAMC,QAAQ,O,CA1F9BvB,EAAOsB,MAAMC,QAAU,OAEvB1B,EAAY2B,iBAAiB,UAAU,KACrC,MAAMX,EAAgBhB,EAAY4B,MAClCtB,IACGE,MAAKO,GAAUD,EAAgBC,EAAQC,KACvCa,OAAMC,GAASC,QAAQD,MAAMA,EAAMlB,UAAS,IAiCjDN,IACGE,MAAKO,GAAUD,EAAgBC,KAC/Bc,OAAMC,GAASC,QAAQD,MAAMA,EAAMlB,WAEtCZ,EAAY2B,iBAAiB,UAE7B,SAAyBK,GAErB,MAAMC,EAAM,wDADFjC,EAAY4B,QAItB,OAFAxB,EAAOqB,MAAMC,QAAU,QAEhBnB,MAAM0B,EAAK,CACdC,QACA,CACI,YA5DV,2EA+DG1B,MAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,SAE7B,OAAOH,EAASI,MAAM,IAEzBL,MAAK2B,IACFJ,QAAQK,IAAID,GACZ,MAAME,EAAkBF,EAAKjB,KAAIoB,GASzC,SAAsBA,GAEpB,MAAO,6EAE+BA,EAAIvB,OAAO,GAAGM,qDACbiB,EAAIvB,OAAO,GAAGwB,2DACdD,EAAIvB,OAAO,GAAGyB,sEACTC,OAAOH,EAAII,mBAAmBD,OAAOH,EAAIK,cAAcL,EAAIL,8B,CAf7FW,CAAaN,KAAMf,KAAK,IAoBpC,IAAuBsB,EAlBfzC,EAAOqB,MAAMC,QAAU,OAkBRmB,EAjBDR,EAkBpBhC,EAAQiB,UAAYuB,CAlBgB,IAEjChB,MAAML,E","sources":["src/index.js"],"sourcesContent":["const endpoint = 'https://api.thecatapi.com/v1/breeds';\nconst api_key =\n  'live_C734cUl9G5vw5WzWkJkOr3wfXpv4bMjqpzlgBZgAf1GvLf86HN3vBSmf0KHTcwPu';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst pError = document.querySelector('.error');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n// testing\npError.style.display = \"none\"\n\nbreedSelect.addEventListener('change', () => {\n  const selectedBreed = breedSelect.value;\n  fetchBreeds()\n    .then(breeds => renderBreedList(breeds, selectedBreed))\n    .catch(error => console.error(error.message));\n});\n\n// Function to fetch breeds from the Cat API based on a query\nfunction getBreeds(query) {\n  return fetch(`${endpoint}?apiKey=${api_key}&q=${query}`)\n    .then(res => res.json())\n    .catch(error => console.error(error.message));\n}\n\nfunction fetchBreeds() {\n  return fetch(endpoint).then(response => {\n    if (!response.ok) {\n      throw new Error(response.message);\n    }\n    return response.json();\n  });\n}\n\nfunction renderBreedList(breeds, selectedBreed) {\n  const breedOptions = breeds.map(breed => {\n    return `\n          <option value=\"${breed.id}\" \n          ${breed.id === selectedBreed ? 'selected' : ''}>\n          ${breed.name}\n          </option>\n        `;\n  });\n\n  breedSelect.innerHTML = breedOptions.join('');\n}\n\n// fetch and render the initial breed list when the page loads\nfetchBreeds()\n  .then(breeds => renderBreedList(breeds))\n  .catch(error => console.error(error.message));\n\nbreedSelect.addEventListener('change', fetchCatByBreed);\n\nfunction fetchCatByBreed(breedId) {\n    breedId = breedSelect.value;\n    const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n    loader.style.display = 'block';\n\n    return fetch(url, {\n        headers:\n        {\n            'x-api-key': api_key,\n        },\n    })\n    .then(response => {\n        if (!response.ok){\n            throw new Error(response.message);\n        }\n        return response.json();\n    })\n    .then(data => {\n        console.log(data);\n        const catImagesMarkup = data.map(cat => \n            createMarkup(cat)).join('');\n        \n        loader.style.display = 'none';\n        updateCatInfo(catImagesMarkup);\n    })\n    .catch(onError);\n}\n\nfunction createMarkup(cat) {\n    \n  return `\n        <div class='breed-card'>\n          <div><h2 class=\"breed-name\">${cat.breeds[0].name}</h2>\n          <p class=\"breed-description\">${cat.breeds[0].description}</p>\n          <p class=\"breed-temperament\">${cat.breeds[0].temperament}</p></div>\n          <img class=\"breed-image\" height = ${Number(cat.height)} width = ${Number(cat.width)} src=${cat.url}>\n        </div>\n      `;\n} \n\nfunction updateCatInfo(markup) {\n  catInfo.innerHTML = markup;\n}\n\nfunction onError() {\n  return pError.style.display=\"block\";\n}"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$pError","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$fetchBreeds","fetch","then","response","ok","Error","message","json","$1f0dc3b9307be026$var$renderBreedList","breeds","selectedBreed","breedOptions","map","breed","id","name","innerHTML","join","$1f0dc3b9307be026$var$onError","style","display","addEventListener","value","catch","error","console","breedId","url","headers","data","log","catImagesMarkup","cat","description","temperament","Number","height","width","$1f0dc3b9307be026$var$createMarkup","markup"],"version":3,"file":"index.6923b1a9.js.map"}