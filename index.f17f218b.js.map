{"mappings":"YAAA,IAAMA,EAAW,sCACXC,EACJ,wEAEIC,EAAcC,SAASC,cAAc,iBACrCC,EAASF,SAASC,cAAc,UAChCE,EAASH,SAASC,cAAc,WAChCG,EAAUJ,SAASC,cAAc,aAkBvC,SAASI,IACP,OAAOC,MAAMT,GAAUU,MAAK,SAAAC,GAC1B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,SAE3B,OAAOH,EAASI,M,IAIpB,SAASC,EAAgBC,EAAQC,GAC/B,IAAMC,EAAeF,EAAOG,KAAI,SAAAC,GAC9B,MAAO,8BAECC,OADeD,EAAME,GAAG,kBAExBD,OADAD,EAAME,KAAOL,EAAgB,WAAa,GAAG,iBAClCI,OAAXD,EAAMG,KAAK,kC,IAKrBtB,EAAYuB,UAAYN,EAAaO,KAAK,G,CAsD5C,SAASC,IACP,OAAOtB,EAAOuB,MAAMC,QAAQ,O,CA1F9BxB,EAAOuB,MAAMC,QAAU,OAEvB3B,EAAY4B,iBAAiB,UAAU,WACrC,IAAMZ,EAAgBhB,EAAY6B,MAClCvB,IACGE,MAAK,SAAAO,G,OAAUD,EAAgBC,EAAQC,E,IACvCc,OAAM,SAAAC,G,OAASC,QAAQD,MAAMA,EAAMnB,Q,OAiCxCN,IACGE,MAAK,SAAAO,G,OAAUD,EAAgBC,E,IAC/Be,OAAM,SAAAC,G,OAASC,QAAQD,MAAMA,EAAMnB,Q,IAEtCZ,EAAY4B,iBAAiB,UAE7B,SAAyBK,GACrBA,EAAUjC,EAAY6B,MACtB,IAAMK,EAAM,wDAAgEd,OAARa,GAGpE,OAFA7B,EAAOsB,MAAMC,QAAU,QAEhBpB,MAAM2B,EAAK,CACdC,QACA,CACI,YAAapC,KAGpBS,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,SAE7B,OAAOH,EAASI,M,IAEnBL,MAAK,SAAA4B,GACFJ,QAAQK,IAAID,GACZ,IAqBeE,EArBTC,EAAkBH,EAAKlB,KAAI,SAAAsB,G,OASzC,SAAsBA,GAEpB,MAAO,+EAGgCpB,OADDoB,EAAIzB,OAAO,GAAGO,KAAK,kDAElBF,OADAoB,EAAIzB,OAAO,GAAG0B,YAAY,iDAErBrB,OADLoB,EAAIzB,OAAO,GAAG2B,YAAY,4DACStB,OAA9BuB,OAAOH,EAAII,QAAQ,aAAoCxB,OAAzBuB,OAAOH,EAAIK,OAAO,SAAezB,OAARoB,EAAIN,IAAI,4B,CAfjGY,CAAaN,E,IAAMhB,KAAK,IAE5BpB,EAAOsB,MAAMC,QAAU,OAkBRW,EAjBDC,EAkBpBlC,EAAQkB,UAAYe,C,IAhBjBR,MAAML,E","sources":["src/index.js"],"sourcesContent":["const endpoint = 'https://api.thecatapi.com/v1/breeds';\nconst api_key =\n  'live_C734cUl9G5vw5WzWkJkOr3wfXpv4bMjqpzlgBZgAf1GvLf86HN3vBSmf0KHTcwPu';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst pError = document.querySelector('.error');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n// testing\npError.style.display = \"none\"\n\nbreedSelect.addEventListener('change', () => {\n  const selectedBreed = breedSelect.value;\n  fetchBreeds()\n    .then(breeds => renderBreedList(breeds, selectedBreed))\n    .catch(error => console.error(error.message));\n});\n\n// Function to fetch breeds from the Cat API based on a query\nfunction getBreeds(query) {\n  return fetch(`${endpoint}?apiKey=${api_key}&q=${query}`)\n    .then(res => res.json())\n    .catch(error => console.error(error.message));\n}\n\nfunction fetchBreeds() {\n  return fetch(endpoint).then(response => {\n    if (!response.ok) {\n      throw new Error(response.message);\n    }\n    return response.json();\n  });\n}\n\nfunction renderBreedList(breeds, selectedBreed) {\n  const breedOptions = breeds.map(breed => {\n    return `\n          <option value=\"${breed.id}\" \n          ${breed.id === selectedBreed ? 'selected' : ''}>\n          ${breed.name}\n          </option>\n        `;\n  });\n\n  breedSelect.innerHTML = breedOptions.join('');\n}\n\n// fetch and render the initial breed list when the page loads\nfetchBreeds()\n  .then(breeds => renderBreedList(breeds))\n  .catch(error => console.error(error.message));\n\nbreedSelect.addEventListener('change', fetchCatByBreed);\n\nfunction fetchCatByBreed(breedId) {\n    breedId = breedSelect.value;\n    const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n    loader.style.display = 'block';\n\n    return fetch(url, {\n        headers:\n        {\n            'x-api-key': api_key,\n        },\n    })\n    .then(response => {\n        if (!response.ok){\n            throw new Error(response.message);\n        }\n        return response.json();\n    })\n    .then(data => {\n        console.log(data);\n        const catImagesMarkup = data.map(cat => \n            createMarkup(cat)).join('');\n        \n        loader.style.display = 'none';\n        updateCatInfo(catImagesMarkup);\n    })\n    .catch(onError);\n}\n\nfunction createMarkup(cat) {\n    \n  return `\n        <div class='breed-card'>\n          <div><h2 class=\"breed-name\">${cat.breeds[0].name}</h2>\n          <p class=\"breed-description\">${cat.breeds[0].description}</p>\n          <p class=\"breed-temperament\">${cat.breeds[0].temperament}</p></div>\n          <img class=\"breed-image\" height = ${Number(cat.height)} width = ${Number(cat.width)} src=${cat.url}>\n        </div>\n      `;\n} \n\nfunction updateCatInfo(markup) {\n  catInfo.innerHTML = markup;\n}\n\nfunction onError() {\n  return pError.style.display=\"block\";\n}"],"names":["$b8f9b7833fa37166$var$endpoint","$b8f9b7833fa37166$var$api_key","$b8f9b7833fa37166$var$breedSelect","document","querySelector","$b8f9b7833fa37166$var$pError","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$fetchBreeds","fetch","then","response","ok","Error","message","json","$b8f9b7833fa37166$var$renderBreedList","breeds","selectedBreed","breedOptions","map","breed","concat","id","name","innerHTML","join","$b8f9b7833fa37166$var$onError","style","display","addEventListener","value","catch","error","console","breedId","url","headers","data","log","markup","catImagesMarkup","cat","description","temperament","Number","height","width","$b8f9b7833fa37166$var$createMarkup"],"version":3,"file":"index.f17f218b.js.map"}